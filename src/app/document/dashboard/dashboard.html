<div class="w-screen h-screen justify-items-center">
    <div class="text-center pt-8 px-8 max-w-200 w-full">
        <button class="text-center" (click)="openNameDialog()">Add new document</button>
        <div class="mt-1 text-sm text-text/60">
            Tip: If you drag a text file over the document list, it will be imported.
        </div>

        <message [messageKey]="message()"></message>

        <div class="mt-8 text-left">
            @for (document of documents(); track document.id; let index = $index) {
                <div class="group flex justify-between py-0.5">
                    <a class="grow bg-transparent" [routerLink]="document.id"
                        ><span class="bg-primary px-1">{{ document.title }}</span></a
                    >
                    <button
                        class="p-0 rounded-none bg-danger hidden group-hover:inline size-6 content-center hover:underline"
                        (click)="openDeleteDialog(index)"
                    >
                        <i-lucide [img]="TrashIcon" size="16" class="justify-items-center block"></i-lucide>
                    </button>
                </div>
            }
        </div>
    </div>
</div>

<dialog #nameDialog>
    <div class="fixed inset-0 justify-items-center content-center">
        <form class="border-accent border-4 w-fit p-8 rounded" (submit)="submitNewDocRequest()">
            <h1 class="mb-2 font-bold">Specify the name of the new document</h1>
            <message [messageKey]="nameDialogMessage()"></message>
            <input
                name="newDocumentName"
                [(ngModel)]="newDocumentName"
                class="w-full"
                type="text"
            />
            <div class="text-right mt-8">
                <button type="button" (click)="closeNameDialog()" class="mr-4">Cancel</button>
                <button>Create</button>
            </div>
        </form>
    </div>
</dialog>

<dialog #deleteConfirmDialog>
    <div class="fixed inset-0 justify-items-center content-center">
        <form class="border-accent border-4 w-fit p-8 rounded" (submit)="submitDeleteDocRequest()">
            <h1 class="mb-2 font-bold">Are you sure you want to delete the following document: {{toBeDeletedDocument()?.title}}?</h1>
            <div class="text-right mt-8">
                <button type="button" (click)="closeDeleteDialog()" class="mr-4">Cancel</button>
                <button class="bg-danger">Delete</button>
            </div>
        </form>
    </div>
</dialog>
